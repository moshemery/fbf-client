<html>
 <head>
  </head>
 
 <body>
<script src="https://connect.facebook.net/en_US/sdk.js"></script>
<script>
  FB.init({
    appId: 811987785971081,
    status: true,
    xfbml: true,
    version: 'v6.0'
  });
  FB.Event.subscribe('send_to_messenger', 
                 function(e) {
                console.log(e);
                   });
    (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

</script>
  
  <!-- Load Facebook SDK for JavaScript -->
  <div id="fb-root"></div>
 
      <!-- Your customer chat code -->
  
  
  
  
<p>
 <div>
  <a>This button should be clicked by conssultent</a>
   <label for="subjectToTalkAbout">Subject to talk about:</label>
  <input type="text" id="subjectToTalkAbout" name="fname"><br><br>
  <button onclick="ConsultentButtonOnClick()">Task to a buyer ? click here</button>  
  </div>
<div id="refDiv" class="fb-send-to-messenger" 
  messenger_app_id="811987785971081"
  page_id="106563677609074" 
  data-ref="TALK_ABOUT_100001" 
  color="blue" 
  size="large"></div> 
 
      <div class="fb-customerchat"
        attribution=setup_tool
        page_id="106563677609074"
        ref="BAMBA5">
      </div>
 </p> 
 <script>
  function ConsultentButtonOnClick()
  {
    const ref = document.getElementById('subjectToTalkAbout').value;
    const url = 'http://m.me/Bref-demo1?ref='+ref;
    window.location.href = url;
   
  }
  
  console.log(document.getElementById('refDiv'));
  
 </script>
</body>
</html>
